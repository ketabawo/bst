---
title: BST 2019 再始動記念大会結果
description: 2019年9月5日（木）に開催予定のBTS 2019 再始動記念大会の選手リストです。
---
- weiin = []
- fish_size = [] 
- best_3 = []
- data.result2019.open1.each do |f|
  - f.result.each do |size|
    - fish_size.push(size)
  - weiin.push(f.result.length)
- weiin3 = weiin.count(3)
- weiin2 = weiin.count(2)
- weiin1 = weiin.count(1)
- weiin0 = weiin.count(0)
= partial "shared/global_navigation", :locals => {:val => "results"}
#topicpath
  %ol{itemscope: "itemscope", itemtype: "http://data-vocabulary.org/Breadcrumb"}
    %li
      = link_to "/", itemprop: "url" do
        %span{itemprop: "title"} BST公式TOP
      %i.fa.fa-angle-right
    %li
      = link_to "/results/", itemprop: "url" do
        %span{itemprop: "title"} 大会結果
      %i.fa.fa-angle-right
    %li BST 2019 再始動記念大会 エントリーリスト
#imagepanel_result
  #imagepanel_result_inner.result2019open_01
    .layer
      %h1 BST 2019 再始動記念大会 エントリーリスト
%article#content
  #content_inner
    #main_column.double
      %section#ranking_table
        .chairmans_comment
          %dl
            %dt
              %i.fa.fa-comment
              総評
            %dd
              %p.comment
                エントリーいただいた選手リストです（申込順8/21現在）<br>
                参加予定でエントリーされてない方は
                = link_to 'こちら', 'https://form.run/@boatseabasstournament-8639', target: '_blank'
                から！！
              %p.writer
                （実行委員：大畠）
        %table
          %thead
            %tr
              %th No.
              %th Angler
              %th Boat
              %th Captain
              %th 1st
              %th 2nd
              %th 3rd
              %th Total
          %tbody
            - data.result2019.open1.each do |f|
              %tr
                %td= f.rank
                %td
                  %span.ruby= f.angler[1]
                  = f.angler[0]
                %td= f.boat[0]
                %td= f.captain[0]
                %td= f.result[0]
                %td= f.result[1]
                %td= f.result[2]
                %td= f.result[0].to_f + f.result[1].to_f + f.result[2].to_f



          %tfoot
            %tr
              %th No.
              %th Angler
              %th Boat
              %th Captain
              %th 1st
              %th 2nd
              %th 3rd
              %th Total
    #sub_column
      %section#ranking_summary
        %h1
          %i.fa.fa-file-text-o
          ラウンドサマリー
        %table
          %tr
            %th 開催日
            %td 2019-09-05
          %tr
            %th 天気
            %td --
          %tr
            %th 潮汐
            %td 小潮
          %tr
            %th 艇数
            %td
              - if data.result2019.open1.present? then
                = weiin.length
              - else
                0
          %tr
            %th ウェイイン総数
            %td
              - if data.result2019.open1.present? then
                = fish_size.length
              - else
                0
              本
          %tr
            %th リミットメイク率
            %td
              - if data.result2019.open1.present? then
                = (weiin3.to_f / weiin.length.to_f * 100).round(2)
              - else
                0
              ％
          %tr
            %th 最大叉長
            %td 
              - if data.result2019.open1.present? then
                = fish_size.sort.last
              - else
                0
              cm
          %tr
            %th 最小叉長
            %td 
              - if data.result2019.open1.present? then
                = fish_size.sort.first
              - else
                40
              cm
          %tr
            %th 平均叉長
            %td
              - if data.result2019.open1.present? then
                - total_size = fish_size.inject{|sum, n| sum + n }
                = (total_size.to_f / fish_size.length.to_f).round(1)
              - else
                0
              cm
      :plain
        <script type="text/javascript">
        google.load("visualization", "1", {packages:["corechart"]});
        google.setOnLoadCallback(drawChart);
        function drawChart() {
        var data = google.visualization.arrayToDataTable([
        ['ウェイイン数', '人数'],
        ['リミットメイク',  #{weiin3}],
        ['2本',      #{weiin2}],
        ['1本',  #{weiin1}],
        ['ノーフィッシュ', #{weiin0}],
        ]);
        var options = {
        title: 'ウェイイン数内訳',
        titleTextStyle:{fontSize: 16},
        legend: 'none',
        chartArea: {left:0,top:35,width:'90%',height:'90%'},
        colors: ['#2e6da4', '#4cae4c', '#46b8da', '#563d7c', '#eea236', '#d43f3a']
        };
        var chart = new google.visualization.PieChart(document.getElementById('piechart'));
        chart.draw(data, options);
        }
        </script>
      #piechart
